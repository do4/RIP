this.RIP=function(){var request_attribute_name="_METHOD";return{setRequestAttributeName:function(name){request_attribute_name=name},map:function(method,url,data){if(data===undefined){data={}}data[request_attribute_name]=method;var form=document.createElement("form"),inputs;document.getElementsByTagName("body")[0].appendChild(form);form.setAttribute("action",url);form.setAttribute("method","post");for(var name in data){if(data[name]instanceof Array){for(var i=0,j=data[name].length;i<j;++i){inputs+='<input type="hidden" name="'+name+'[]" value="'+data[name][i]+'">'}}else{inputs+='<input type="hidden" name="'+name+'" value="'+data[name]+'">'}}form.innerHTML=inputs;form.submit()},POST:function(url,data){this.map("POST",url,data)},PUT:function(url,data){this.map("PUT",url,data)},DELETE:function(url,data){this.map("DELETE",url,data)}}}();